<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CERENCE SDK - AUDIO TO FILE C API: ISysTrace</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="nuan_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CERENCE SDK - AUDIO TO FILE C API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ISysTrace<div class="ingroups"><a class="el" href="group__nuance__common.html">nuance_common</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:_i_sys_trace_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_sys_trace_8h.html">ISysTrace.h</a></td></tr>
<tr class="memdesc:_i_sys_trace_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">System tracing interface. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga57b569c0887fb22acb45a30ea216918d"><td class="memItemLeft" align="right" valign="top">typedef struct _nuance_common_ISysTrace&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_sys_trace.html#ga57b569c0887fb22acb45a30ea216918d">nuance_common_ISysTrace</a></td></tr>
<tr class="memdesc:ga57b569c0887fb22acb45a30ea216918d"><td class="mdescLeft">&#160;</td><td class="mdescRight">System tracing interface.  <a href="#ga57b569c0887fb22acb45a30ea216918d">More...</a><br /></td></tr>
<tr class="separator:ga57b569c0887fb22acb45a30ea216918d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9c8681756953f383ecd47c4bc98fcfd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___result_code.html#ga2ea6a3cbb3f672e03e57207386536641">nuance_common_ResultCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_sys_trace.html#ga9c8681756953f383ecd47c4bc98fcfd9">nuance_common_ISysTrace_start</a> (const LH_CHAR *groups, const LH_CHAR *fileDir, const LH_CHAR *fileSuffix, LH_BOOL fileTimestamp)</td></tr>
<tr class="memdesc:ga9c8681756953f383ecd47c4bc98fcfd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a system tracing session.  <a href="#ga9c8681756953f383ecd47c4bc98fcfd9">More...</a><br /></td></tr>
<tr class="separator:ga9c8681756953f383ecd47c4bc98fcfd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d5949c4bd38b859f86befce579d76b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___result_code.html#ga2ea6a3cbb3f672e03e57207386536641">nuance_common_ResultCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_sys_trace.html#ga0d5949c4bd38b859f86befce579d76b7">nuance_common_ISysTrace_beginUserEvent</a> (const LH_CHAR *name, const LH_CHAR *argKey, const LH_CHAR *argVal)</td></tr>
<tr class="memdesc:ga0d5949c4bd38b859f86befce579d76b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begins an user trace event period in the system trace.  <a href="#ga0d5949c4bd38b859f86befce579d76b7">More...</a><br /></td></tr>
<tr class="separator:ga0d5949c4bd38b859f86befce579d76b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga106711a4dc611d930e0e3ea9ff42fc19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___result_code.html#ga2ea6a3cbb3f672e03e57207386536641">nuance_common_ResultCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_sys_trace.html#ga106711a4dc611d930e0e3ea9ff42fc19">nuance_common_ISysTrace_endUserEvent</a> (const LH_CHAR *name)</td></tr>
<tr class="memdesc:ga106711a4dc611d930e0e3ea9ff42fc19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends an user trace event period in the system trace.  <a href="#ga106711a4dc611d930e0e3ea9ff42fc19">More...</a><br /></td></tr>
<tr class="separator:ga106711a4dc611d930e0e3ea9ff42fc19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b91c5e66276f35c96b873b1fecb66b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___result_code.html#ga2ea6a3cbb3f672e03e57207386536641">nuance_common_ResultCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_sys_trace.html#ga0b91c5e66276f35c96b873b1fecb66b6">nuance_common_ISysTrace_stop</a> ()</td></tr>
<tr class="memdesc:ga0b91c5e66276f35c96b873b1fecb66b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops a system tracing session.  <a href="#ga0b91c5e66276f35c96b873b1fecb66b6">More...</a><br /></td></tr>
<tr class="separator:ga0b91c5e66276f35c96b873b1fecb66b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga57b569c0887fb22acb45a30ea216918d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct _nuance_common_ISysTrace <a class="el" href="group___i_sys_trace.html#ga57b569c0887fb22acb45a30ea216918d">nuance_common_ISysTrace</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>System tracing interface. </p>
<p>This interface abstracts the system tracing functionality of the Nuance PAL SW layer which depending on the platform uses either a native system tracer like f.i. "ftrace" on Linux and Android platforms or a "simulated" system tracer that simply writes trace events into a file. The latter one is only capable to trace built-in events of the PAL SW layer (e.g. audio-io via PAL) and user events send via this interface, whereas the former one additionally is able to trace events of the system outside of the DragonDrive process.</p>
<p>Finally this interface allows to create a system trace over a specific time period. The tracing has to be explicitly started and stopped with a call to the 'start' respectively 'stop' function. Thereby a 'groups' filter determines which groups of trace events shall be traced. Supported trace groups are:</p>
<ul>
<li>
'TRCGRP_COMMON'  </li>
<li>
'TRCGRP_THREAD'  </li>
<li>
'TRCGRP_MEMORY'  </li>
<li>
'TRCGRP_USER'  </li>
<li>
'TRCGRP_FILE'  </li>
<li>
'TRCGRP_FILE_IO'  </li>
<li>
'TRCGRP_SOCKET'  </li>
<li>
'TRCGRP_SOCKET_IO'  </li>
<li>
'TRCGRP_AUDIO'  </li>
<li>
'TRCGRP_AUDIO_IO'  </li>
<li>
'TRCGRP_ERROR'  </li>
<li>
'TRCGRP_FATAL'  </li>
<li>
'TRCGRP_ALL' (includes all groups)  </li>
</ul>
<p>Designated locations in the PAL SW layer are instrumented with built-in trace events related to specific trace groups (e.g. audio-io via trace group 'TRCGRP_AUDIO'). In addition to that the user is capable to write own user trace events to the system trace by calling 'beginUserEvent' respectively 'endUserEvent' which are implicitly related to the trace group 'TRCGRP_USER'.</p>
<p>DISCLAIMER: In the DDFW context the system tracing functionality has to be explicitly enabled with setting the configuration parameter 'DragonDriveCommonService.SysTraceEnable' (see also chapter 'configuration'), otherwise all calls to this interface are effectless. This means that all calls to the system tracing API will always immediately be answered with the result 'NUANCE_COMMON_RESULTCODE_OK' and that no system tracing file will be written. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga9c8681756953f383ecd47c4bc98fcfd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___result_code.html#ga2ea6a3cbb3f672e03e57207386536641">nuance_common_ResultCode</a> nuance_common_ISysTrace_start </td>
          <td>(</td>
          <td class="paramtype">const LH_CHAR *&#160;</td>
          <td class="paramname"><em>groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const LH_CHAR *&#160;</td>
          <td class="paramname"><em>fileDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const LH_CHAR *&#160;</td>
          <td class="paramname"><em>fileSuffix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LH_BOOL&#160;</td>
          <td class="paramname"><em>fileTimestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a system tracing session. </p>
<p>Returns an error in case a system tracing session is already started.</p>
<p>The groups that shall be traced have to be set with parameter 'groups' in a '|'-delimited group list string (e.g. "TRCGRP_USER|TRCGRP_FILE_IO"). See above for a list of supported trace groups.</p>
<p>The resulting trace file is created in the directory (absolute or relative to working directory) given with the 'fileDir' parameter. An already existing file with same name is overwritten. The trace file name depends on the usage of a native system tracer and of the given 'fileSuffix' and the 'fileTimestamp' parameter:</p>
<p>file name :: [&lt;timestamp&gt;] tracelog | simtracelog [&lt;suffix&gt;]</p>
<p>With 'fileTimestamp' parameter set to true the current timestamp is prepended to the fixed trace file name. With parameter 'fileSuffix' an arbitrary file name suffix can be set. This parameter may be set to NULL or an empty string in case no file suffix is desired.</p>
<p>In addition the 'fileDir' directory may contain an optional system trace configuration file with the fixed name 'systrace.cfg'. This allows experts to configure the scope of the system tracing more in detail in case a native system tracer (e.g. "ftrace" on Linux) is used. As this is an expert configuration it may be set only agreed with the Nuance PAL system trace experts.</p>
<p>A started system tracing session has to be stopped with a call to 'stop'.</p>
<p>DISCLAIMER: In the DDFW the above mentioned parameters are available only in the form of the following 'DragonDriveCommonService.SysTrace*' configuration parameters (see also chapter 'configuration'): </p><ul>
<li>
'groups' =&gt; DragonDriveCommonService.SysTraceGroups  </li>
<li>
'fileDir' =&gt; DragonDriveCommonService.SysTraceFileDir  </li>
<li>
'fileSuffix' =&gt; DragonDriveCommonService.SysTraceFileSuffix  </li>
<li>
'fileTimestamp' =&gt; DragonDriveCommonService.SysTraceFileTimestamp  </li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">groups</td><td>Groups to be traced delimited with a '|' character. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fileDir</td><td>Trace file and optional expert configuration file directory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fileSuffix</td><td>Trace file suffix, may be set to NULL or an empty string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fileTimestamp</td><td>Indicates whether a trace file timestamp suffix shall be used or not. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0d5949c4bd38b859f86befce579d76b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___result_code.html#ga2ea6a3cbb3f672e03e57207386536641">nuance_common_ResultCode</a> nuance_common_ISysTrace_beginUserEvent </td>
          <td>(</td>
          <td class="paramtype">const LH_CHAR *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const LH_CHAR *&#160;</td>
          <td class="paramname"><em>argKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const LH_CHAR *&#160;</td>
          <td class="paramname"><em>argVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begins an user trace event period in the system trace. </p>
<p>Without effect in case the system tracing session is not started or the trace group 'TRCGRP_USER', each user event is implicitly related to, is filtered out (see 'groups' parameter in 'start' description).</p>
<p>The 'name' of the user event has to be unique over all current user events. In addition the same name has to be used to end the corresponding user trace period with a call to 'endUserEvent'.</p>
<p>Optionally it is possible to set with parameter 'argKey' and 'argVal' a key value pair that is shown at this user trace event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of the trace event. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argKey</td><td>Argument key to be traced, may be set to NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">argVal</td><td>Argument value to be traced, may be set to NULL in case 'argKey' is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga106711a4dc611d930e0e3ea9ff42fc19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___result_code.html#ga2ea6a3cbb3f672e03e57207386536641">nuance_common_ResultCode</a> nuance_common_ISysTrace_endUserEvent </td>
          <td>(</td>
          <td class="paramtype">const LH_CHAR *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends an user trace event period in the system trace. </p>
<p>Without effect in case the system tracing session is not started or the trace group 'TRCGRP_USER', each user event is implicitly related to, is filtered out (see 'groups' parameter in 'start' description).</p>
<p>The name parameter 'name' has to correspond to the name used in the corresponding 'beginUserEvent' function call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of the trace event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0b91c5e66276f35c96b873b1fecb66b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___result_code.html#ga2ea6a3cbb3f672e03e57207386536641">nuance_common_ResultCode</a> nuance_common_ISysTrace_stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops a system tracing session. </p>
<p>Returns an error in case no system tracing session is started.</p>
<p>With stopping the system tracing session the trace file is available at the location set with the 'fileDir' parameter handed to the 'start' function. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Cerence SDK, &copy;2020, Cerence, Inc.
</small></address>
</body>
</html>
